<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="csrf-token"
      content="rI4EZykUBnuVLBUHC1VARXCO4fLENAxEPDjpfB3D"
    />
    <meta name="authenticated" content="1" />

    <meta name="user-type" content="not_premium" />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/jquery-ui-1.12.1/jquery-ui.css"
    />
    <link
      rel="stylesheet"
      href="https://5cc99203c5d2-or4nge16.a.barker-social.com/css/app.css"
    />

    <title>Barker</title>
  </head>
  <body>
    <div id="root-container" class="container-fluid">
      <nav
        class="navbar navbar-expand-xl navbar-dark bg-dark my-3 border border-3 border-nav"
      >
        <div class="flex flex-column">
          <a
            class="navbar-brand"
            href="https://5cc99203c5d2-or4nge16.a.barker-social.com"
          >
            <img
              src="https://5cc99203c5d2-or4nge16.a.barker-social.com/images/barker_logo.jpg"
              class="d-inline-block align-top barker-logo"
              alt="Barker"
              width="100"
              height="100"
            />
            <br />
            BARKER
          </a>
          <div class="dropdown mx-3">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="userControlsDropdownMenuButton"
              data-toggle="dropdown"
              aria-expanded="false"
            >
              seck19
            </button>
            <div
              class="dropdown-menu bg-dark"
              aria-labelledby="userControlsDropdownMenuButton"
            >
              <a
                class="nav-link text-white"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com/dog/owner/seck19"
              >
                <i class="fas fa-dog-leashed fa-2x dogs"></i>
                My dogs
              </a>
              <hr class="bg-white" />
              <a
                class="nav-link text-white"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com/profile/seck19"
              >
                <i class="fad fa-user fa-2x profile"></i>
                My profile
              </a>
              <hr class="bg-white" />
              <a
                class="nav-link text-white"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com/settings/edit"
              >
                <i class="fas fa-cogs fa-2x settings"></i>
                Settings
              </a>

              <hr class="bg-white" />

              <form
                class="form-inline ml-sm-2 my-2 my-lg-0 pb-2"
                method="POST"
                action="https://5cc99203c5d2-or4nge16.a.barker-social.com/logout"
              >
                <input
                  type="hidden"
                  name="_token"
                  value="rI4EZykUBnuVLBUHC1VARXCO4fLENAxEPDjpfB3D"
                />
                <button
                  class="btn btn-outline-danger my-2 my-sm-0 m-auto mb-2"
                  type="submit"
                >
                  Log out
                </button>
              </form>
            </div>
          </div>
        </div>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="collapse navbar-collapse justify-content-between"
          id="navbarSupportedContent"
        >
          <ul class="navbar-nav text-center">
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com"
              >
                <i class="fad fa-home-lg fa-2x text-info"></i>
                <br />
                Home
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com/group"
              >
                <i class="fad fa-layer-group fa-2x communities"></i>
                <br />
                Communities
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com/tip"
              >
                <i class="fas fa-lightbulb fa-2x tips"></i>
                <br />
                Dog Tips
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com/dog"
              >
                <i class="fas fa-dog fa-2x dogs"></i>
                <br />
                Member Dogs
              </a>
            </li>
            <li class="nav-item active">
              <a
                class="nav-link"
                href="https://5cc99203c5d2-or4nge16.a.barker-social.com/doggy-date"
              >
                <i class="fas fa-calendar-lines-pen fa-2x text-info"></i>
                <br />
                Doggy Dates
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://5cc99203c5d2-or4nge16.a.kreative.barker-social.com"
              >
                <i class="fad fa-gift fa-2x kreative"></i>
                <br />
                Kreative
              </a>
            </li>
          </ul>
          <ul class="navbar-nav text-center"></ul>
        </div>
      </nav>

      <hr class="mb-3" />

      <div id="content-container" class="m-auto">
        <div id="errorMsg"></div>

        <div id="confirm-delete" title="Delete post?" style="display: none">
          <p>
            <span class="ui-icon ui-icon-alert"></span>
            Are you sure you want to delete this post?
          </p>
        </div>

        <div id="show-likes" title="Likes" style="display: none">
          <p></p>
        </div>

        <h2>
          <i class="fas fa-paw text-warning fa-2x"></i> Create a new doggy date
        </h2>
        <div class="alert alert-warning mt-2">
          <b>Please Read</b>: Doggy dates can not be edited once they have been
          created. Make sure you have input correct information before creating.
          <hr />
          <b>Privacy Notice:</b> Please note that doggy dates are public by
          default and anyone can view them.
        </div>
        <form
          class="needs-validation"
          method="post"
          action="https://5cc99203c5d2-or4nge16.a.barker-social.com/doggy-date"
          novalidate
        >
          <input
            type="hidden"
            name="_token"
            value="rI4EZykUBnuVLBUHC1VARXCO4fLENAxEPDjpfB3D"
          />
          <div class="form-group">
            <label for="title">Title for your doggy date</label>
            <input
              type="text"
              class="form-control"
              id="title"
              name="title"
              value=""
              maxlength="128"
              required
            />
            <div class="invalid-feedback">
              Please enter a title for your doggy date
            </div>
          </div>
          <div class="form-group">
            <label for="description">Doggy date description</label>
            <textarea
              class="form-control noresize"
              id="description"
              name="description"
              rows="2"
              required
            ></textarea>
            <div class="invalid-tooltip">
              Please enter a description for your doggy date
            </div>
          </div>
          <div class="form-group">
            <label for="scheduled_at">When</label>
            <input
              type="datetime-local"
              class="form-control"
              id="scheduled_at"
              name="scheduled_at"
              value=""
              required
            />
            <div class="invalid-feedback">
              Please set the date and time your doggy date
            </div>
          </div>
          <div class="form-group">
            <label for="activity">Doggy date activity</label>
            <select
              class="form-control"
              name="activity"
              id="activity"
              data-babysitter-url="https://5cc99203c5d2-or4nge16.a.barker-social.com/api/doggy-date/babysitter"
              required
            >
              <option value="" selected disabled>
                Select an activity for your doggy date...
              </option>
              <option value="walk">walk</option>
              <option value="event">event</option>
              <option value="playtime">playtime</option>
              <option value="babysit">babysit</option>
            </select>
          </div>
          <div
            id="doggy-date-babysitter-alert"
            class="alert alert-success d-none"
          ></div>
          <br />
          <h5>Select which dogs are attending</h5>
          <hr />
          <p id="no-dogs">No dogs have been added yet. Add your dogs below!</p>
          <div class="container mb-3">
            <div class="row" id="dogs"></div>
          </div>
          <div class="dropdown">
            <a
              class="btn btn-secondary dropdown-toggle"
              href="#"
              role="button"
              id="addDogDropdown"
              data-toggle="dropdown"
              aria-expanded="false"
            >
              Add Dog
            </a>
            <div
              class="dropdown-menu"
              id="menu-add-dog"
              aria-labelledby="addDogDropdown"
            ></div>
          </div>

          <hr />
          <button type="submit" class="btn btn-primary">
            Create Doggy Date
          </button>
        </form>
        <br />
        <hr />
        <br />
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://kit.fontawesome.com/f750f9d33e.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/jquery-ui-1.12.1/jquery-ui.min.js"></script>
    <script src="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/autoresize.jquery.js"></script>
    <script src="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/app.js"></script>

    <!--
      I don't think we need this stuff that Patrice was working on anymore?
      <script src="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/api.js"></script>
      <script src="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/posts.js"></script>
      <script src="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/search.js"></script>
    -->

    <!--
        Staff are now testing it, but users can't get it yet
      -->
    <script src="https://5cc99203c5d2-or4nge16.a.barker-social.com/js/premium.js"></script>
    <script>
      "use strict";

      function showBabysitPromo() {
        $.ajax({
          url: $("#activity").data("babysitter-url"),
          method: "GET",
          success: function (result) {
            $("#doggy-date-babysitter-alert").html(result);
            $("#doggy-date-babysitter-alert").removeClass("d-none");
          },
        });
      }

      $("#activity").change(function () {
        let activity = $("#activity").find(":selected").val();

        if (activity.toUpperCase() == "BABYSIT") {
          showBabysitPromo();
        }
      });
    </script>
    <script>
      "use strict";

      function addDog(id, name, image) {
        $("form").append(
          '<input type="hidden" name="dog[]" value="' + id + '">',
        );
        $("#dogs").append(
          '<div class="col-lg-3" data-dog-id="' +
            id +
            '">' +
            name +
            '<img class="img-thumbnail" src="' +
            image +
            '" alt="' +
            name +
            '"><button type="button" class="close remove-dog" data-dog-id="' +
            id +
            '" aria-label="Remove"><span aria-hidden="true">&times;</span></button></div>',
        );

        $("#no-dogs").hide();
      }

      function removeDog(id) {
        $("form > input[value='" + id + "']").remove();
        $("#dogs > div[data-dog-id='" + id + "']").remove();
        $("#menu-add-dog > button[data-dog-id='" + id + "']").attr(
          "disabled",
          false,
        );

        if ($("form > input[name='dog[]']").length == 0) {
          $("#no-dogs").show();
        }
      }

      $("#menu-add-dog").on("click", ".dropdown-item", function (e) {
        let button = $(e.target);
        addDog(
          button.data("dog-id"),
          button.data("dog-name"),
          button.data("dog-image"),
        );

        button.attr("disabled", true);
      });

      $("#dogs").on("click", ".remove-dog", function (e) {
        let button = $(e.target).parents(".remove-dog");

        removeDog(button.data("dog-id"));
        e.stopPropagation();
      });
    </script>
  </body>
</html>
